<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Release process</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Release process</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the release process for the DFINITY SDK, with step-by-step instructions, information about automation, and a checklist.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before starting the release process, the team should conduct a brief Go/No-Go release review to evaluate the current state of fixes and features ready to be included in a release candidate.
After reviewing the list of fixes and features, the team will decide whether to proceed with staging a build.</p>
</div>
<div class="paragraph">
<p>If the new release is given the Go green light, two people who are familiar with the process—a <strong>driver</strong> and a <strong>validator</strong>—use the checklist in this document to stage or promote a release candidate.</p>
</div>
<div class="paragraph">
<p>The <strong>validator</strong> should be the person most familiar with the process and be able to assist with debugging or resolving issues if the <strong>driver</strong> building the release runs into trouble.</p>
</div>
<div class="paragraph">
<p>A successful release is the result of coordination between automation, manual steps performed by team members, and a validation process.
Our goal is to update this document with the latest information as we iterate to improve the release process.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_checklist">Checklist</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use this checklist to prepare a release candidate.</p>
</div>
<div class="sect2">
<h3 id="_participants">Participants</h3>
<div class="ulist">
<ul>
<li>
<p>Driver</p>
</li>
<li>
<p>Validator</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_setup">Setup</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect to VPN.</p>
<div class="paragraph">
<p>If you don&#8217;t have a VPN connection set up for your computer, you&#8217;ll need to follow the instructions in <a href="https://www.notion.so/How-to-get-VPN-access-to-our-data-center-services-1c9b123152d740508eec25e7ac982259">How to get VPN access to our data center services</a>.</p>
</div>
</li>
<li>
<p>Open a terminal and <code>cd</code> into your local copy of the <code>sdk</code> repo.</p>
</li>
<li>
<p>Checkout the <code>master</code> branch and pull from remote.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git checkout master &amp;&amp; git pull</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_releasing_a_new_version">Releasing a New Version</h3>
<div class="sect3">
<h4 id="_preliminary_validation">Preliminary Validation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use this <a href="https://github.com/dfinity-lab/sdk/commits/master">link</a>
to verify:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Is the CI system up?</p>
</li>
<li>
<p>Is <code>master</code> green?</p>
</li>
<li>
<p>Was master red recently or flaky?</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_validate_the_build_and_ui">Validate the Build and UI</h4>
<div class="sect4">
<h5 id="_verify_that_the_default_hello_world_project_can_be_built_deployed_called_in_a_terminal_and_viewed_in_a_browser">Verify that the default <code>hello_world</code> project can be built, deployed, called in a terminal, and viewed in a browser.</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Build the <code>dfx</code> binary</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">nix-build ./dfx.nix -A build --option extra-binary-caches https://nix.dfinity.systems</code></pre>
</div>
</div>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The above command will print logs to the console.
The last line printed is the directory of build output i.e.
<code>/nix/store/7qsrb3pikzam301h6khjzwpg35ry7miz-dfinity-sdk-rust-unknown</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Create a temporary <code>alias</code> for the binary to use in succesive steps by appending <code>/bin/dfx</code> to the above path
<strong>(Replace the path below with the one from your console)</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">alias dfx=/nix/store/7qsrb3pikzam301h6khjzwpg35ry7miz-dfinity-sdk-rust-unknown/bin/dfx</code></pre>
</div>
</div>
</li>
<li>
<p>Verify the binary version.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx --version</code></pre>
</div>
</div>
</li>
<li>
<p>Delete the existing dfx cache to ensure you&#8217;re not using a stale binary.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx cache delete</code></pre>
</div>
</div>
</li>
<li>
<p>Build the javascript agent</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">nix-build . -A agent-js --option extra-binary-caches https://nix.dfinity.systems</code></pre>
</div>
</div>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The above command will print logs to the console.
The last line printed is the directory of build output i.e.
<code>/nix/store/s9al333cb07lgzjl90hy3c5n9p59380p-dfinity-sdk-agent-js</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>List the files in that path <strong>(Replace the path below with the one from your console)</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">ls -l /nix/store/s9al333cb07lgzjl90hy3c5n9p59380p-dfinity-sdk-agent-js</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>You should see output like:</p>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">total 64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-r&#8212;&#8203;r&#8212;&#8203;r--  1 username  admin  30439 Dec 31  1969 dfinity-agent-0.5.14.tgz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dr-xr-xr-x  4 username  admin    128 Dec 31  1969 nix-support</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</li>
<li>
<p>Append the nix store path with the <code>.tgz</code> file and
store the path in a temporary environment variable <strong>(Replace the path below with the one from your console)</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">export JS_AGENT_PATH=/nix/store/s9al333cb07lgzjl90hy3c5n9p59380p-dfinity-sdk-agent-js/dfinity-agent-0.5.14.tgz</code></pre>
</div>
</div>
</li>
<li>
<p>Ensure <code>dfx</code> and <code>replica</code> are not running in the background, and if they are, <code>kill</code> them.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">ps -ef | grep replica
ps -ef | grep dfx</code></pre>
</div>
</div>
</li>
<li>
<p>Generate default new project</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx new hello_world
cd hello_world</code></pre>
</div>
</div>
</li>
<li>
<p>Install the locally built javascript agent for the new project</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">npm install ${JS_AGENT_PATH}</code></pre>
</div>
</div>
</li>
<li>
<p>Start the local <code>replica</code> as a background process.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx start --background</code></pre>
</div>
</div>
</li>
<li>
<p>Create, build, and install canisters.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx canister create --all
dfx build
dfx canister install --all</code></pre>
</div>
</div>
</li>
<li>
<p>Call the canister and verify it answers as expected</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx canister call hello_world greet everyone</code></pre>
</div>
</div>
</li>
<li>
<p>Verify the default front-end in a browser.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In a new incognito or private window navigate to the default localhost address and port <code>8000</code>
(specified in the <code>dfx.json</code> configuration file).</p>
</li>
<li>
<p>Append <code>?canisterId=ic:&lt;YOUR-CANISTER-IDENTIFIER&gt;</code> with the canister identifier for the
<code>hello_world_assets</code> canister to the URL (for example, <code><a href="http://localhost:8000/?canisterId=ic:02000000000000000000000000000000000153" class="bare">http://localhost:8000/?canisterId=ic:02000000000000000000000000000000000153</a></code>).</p>
</li>
<li>
<p>Verify that you are prompted to type a greeting in a prompt window.</p>
</li>
<li>
<p>Type a greeting, then click <strong>OK</strong> to return the greeting in an alert window.</p>
</li>
<li>
<p>Verify there are no errors in the console. (Right-click &gt; Inspect &gt; Console)</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify the Candid UI.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In a new incognito or private window navigate to the default localhost address and port <code>8000</code>
(specified in the <code>dfx.json</code> configuration file).</p>
</li>
<li>
<p>Append the <code>candid</code> endpoint and <code>canisterId</code> for the <code>hello_world</code> canister to the URL (for example, <code><a href="http://localhost:8000/candid?canisterId=ic:02000000000000000000000000000000000153" class="bare">http://localhost:8000/candid?canisterId=ic:02000000000000000000000000000000000153</a></code>).</p>
</li>
<li>
<p>Verify UI loads, then test the greet function by entering text and clicking <strong>Call</strong> or clicking <strong>Lucky</strong>,</p>
</li>
<li>
<p>Verify there are no errors in the console. (Right-click &gt; Inspect &gt; Console)</p>
</li>
</ol>
</div>
</li>
<li>
<p>Stop the replica</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">dfx stop</code></pre>
</div>
</div>
</li>
<li>
<p>Delete the test project</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cd ..
rm -rf hello_world</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_the_version">Update the Version</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>cd</code> back into the <code>sdk</code> repo</p>
</li>
<li>
<p>Enter the sdk <code>nix</code> development environment:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">nix-shell</code></pre>
</div>
</div>
</li>
<li>
<p>Update the <code>version</code> field for the files</p>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>src/dfx/Cargo.toml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>src/agent/rust/Cargo.toml</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>src/ic_identity_manager/Cargo.toml</code></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Apply these changes to <code>Cargo.lock</code> by running:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">cargo build</code></pre>
</div>
</div>
</li>
<li>
<p>Set the new version in a temporary environment variable</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">export NEW_DFX_VERSION=&lt;THE NEW VERSION NUM HERE&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Update the <code>@dfinity/agent</code> and <code>@dfinity/bootstrap</code> javascript packages by doing:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">cd src/agent/javascript/ &amp;&amp; npm version ${NEW_DFX_VERSION}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">cd src/bootstrap/ &amp;&amp; npm version ${NEW_DFX_VERSION}</code></pre>
</div>
</div>
</li>
<li>
<p>Append the new version to <code>public/manifest.json</code> by adding it to the <code>versions</code> list</p>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ensure</strong> <code>latest</code> remains the same.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_tag_and_create_a_pull_request">Tag and Create a Pull Request</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a pull request with the above changes</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git switch -c &lt;YOUR_NAME&gt;/NEW_DFX_VERSION
git add --all
git commit --signoff --message "chore: release NEW_DFX_VERSION"
git push origin &lt;YOUR_NAME&gt;/NEW_DFX_VERSION</code></pre>
</div>
</div>
</li>
<li>
<p>Have the validator review and approve</p>
</li>
<li>
<p>Apply <code>automerge-squash</code> label and wait for pull request to get merged</p>
</li>
<li>
<p>Switch to stable branch by running</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git switch stable
git pull origin stable</code></pre>
</div>
</div>
</li>
<li>
<p>Pull the merged changes into <code>stable</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git pull origin master --ff-only</code></pre>
</div>
</div>
</li>
<li>
<p>Create a tag by running</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git tag --annotate ${NEW_DFX_VERSION} --message "Release: &lt;NEW_DFX_VERSION&gt;"</code></pre>
</div>
</div>
</li>
<li>
<p>Verify the tag points to the correct version and includes annotation.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git log
git describe --always</code></pre>
</div>
</div>
</li>
<li>
<p>Push the tag by running:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git push origin ${NEW_DFX_VERSION}</code></pre>
</div>
</div>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CI will only publish dfx from the latest commit from the stable branch when that commit is tagged with a version.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Push the <code>stable</code> branch by running:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">git push origin stable</code></pre>
</div>
</div>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pushing the branch second is an optimization.
Hydra will spur into action when stable advances so if the branch is already tagged it won&#8217;t require a second fetch.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_publish_javascript_agent_to_npm">Publish Javascript Agent to NPM</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>cd</code> into the javascript agent directory and clean it</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">cd src/agent/javascript
git clean -dfx .</code></pre>
</div>
</div>
</li>
<li>
<p>Make sure you have latest version of node modules and don&#8217;t have stale files</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">npm install</code></pre>
</div>
</div>
</li>
<li>
<p>Build files</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">npm run build</code></pre>
</div>
</div>
</li>
<li>
<p>Verify <code>Success</code> is printed for the following command (which checks that
every <code>.js</code> has a <code>.d.ts</code> assigned and that every <code>.js</code> and <code>.d.ts</code> has a source file that is not a test) by running:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">diff &lt;(find types src \( -name \*.d.ts -o -name \*.js \) -a \! -name \*.test.\* | sort) &lt;(npm publish --dry-run 2&gt;&amp;1 | egrep 'npm notice [0-9.]*k?B' | awk '{ print $4 }' | grep -v package.json | grep -v README.md | sort) &amp;&amp; echo Success</code></pre>
</div>
</div>
</li>
<li>
<p>Login to npm</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">npm login</code></pre>
</div>
</div>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Note: You need an <code>npm</code> account and be a member of the <code>dfinity</code> organization. To get access
contact Hans or Stanley.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Publish to npm</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">npm publish</code></pre>
</div>
</div>
</li>
<li>
<p>Logout</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-nix-shell" data-lang="nix-shell">npm logout</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_notifying_and_post_build_validation">Notifying and Post-build Validation</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Wait for the automatic slack message to
<a href="https://dfinity.slack.com/archives/CUXGQBABF/p1594954197000100"><em>#build-notifications</em></a>
about the successful publishing of the dfx tarballs</p>
</li>
<li>
<p>Install the build using the <code>DFX_VERSION=&lt;version&gt;</code> environment variable.</p>
</li>
<li>
<p>Run through the <a href="https://staging&#8212;&#8203;eloquent-poitras-af14f0.netlify.app/docs/quickstart/quickstart.html"><em>Quick start</em></a> steps.</p>
</li>
<li>
<p>Notify team members that the new build is ready for manual installation and testing.</p>
</li>
<li>
<p>Update <a href="https://docs.google.com/spreadsheets/d/1pIblGqIeqapzptOtDb4h0LjJKDFIYXRxJrX9VaphfjA/edit#gid=725289684"><em>release notes</em></a> and documentation based on the Go/No-go list of merged PRs.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_promoting_a_released_version_to_latest">Promoting a Released Version to Latest</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that release notes and documentation are ready for public consumption.</p>
</li>
<li>
<p>Prepare a PR for the manifest.</p>
</li>
<li>
<p>Verify all builds are done.</p>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://download.dfinity.systems/sdk/dfx/{DFX_VERSION}/x86_64-linux/dfx-{DFX_VERSION}.tar.gz" class="bare">https://download.dfinity.systems/sdk/dfx/{DFX_VERSION}/x86_64-linux/dfx-{DFX_VERSION}.tar.gz</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://download.dfinity.systems/sdk/dfx/{DFX_VERSION}/x86_64-darwin/dfx-{DFX_VERSION}.tar.gz" class="bare">https://download.dfinity.systems/sdk/dfx/{DFX_VERSION}/x86_64-darwin/dfx-{DFX_VERSION}.tar.gz</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://hydra.dfinity.systems/jobset/dfinity-ci-build/sdk-release" class="bare">https://hydra.dfinity.systems/jobset/dfinity-ci-build/sdk-release</a></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Update the manifest.</p>
<table class="tableblock frame-none grid-all" style="width: 80%;">
<colgroup>
<col style="width: 2.8571%;">
<col style="width: 97.1429%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Darwin</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note: We assume <strong>upstream</strong> is <code>origin</code>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_release_documentation">Release documentation</h3>
<div class="paragraph">
<p><a href="https://github.com/dfinity/docs">Documentation repo</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Tag the documentation using <code>git tag -a &lt;version&gt; -m &lt;documentation-archive-message&gt;</code>.</p>
</li>
<li>
<p>Publish the tag on the remote server using <code>git push origin &lt;tagname&gt;</code>.</p>
</li>
<li>
<p>Deploy updated documentation using Netlify.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_and_properties">Requirements and properties</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Semi-automation</p>
</li>
<li>
<p>Consistent delivery</p>
</li>
<li>
<p>Validation</p>
</li>
<li>
<p>Rollback</p>
</li>
<li>
<p>Guardrails</p>
</li>
<li>
<p>Flexibility</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_mechanism">Build mechanism</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Our build process is described in the <code>release.nix</code> derivation.
The <code>release.nix</code> derivation mainly invokes the <code>dfx-release</code> derivation passing the annotated tag on HEAD (which happens right now to be the stable branch).
The <code>dfx-release</code> derivation builds the release binaries and files for each platform and generates a manifest for S3 that includes the tag name.
The release tag allows us to keep a directory structure with all past and upcoming releases in S3.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ci">CI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CI release-related operation is split into two jobsets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generation and publishing of 'install.sh' and 'manifest.json'.</p>
</li>
<li>
<p>Tagging of a commit to release, building and publishing the necessary executables and files for supported platforms.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_manifest">Manifest</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We utilize a manifest to indicate to users (and in particular to our installer and dfx executable) available and supported versions for download.
The manifest allows us to rollback a release or remove a release from the list of supported releases.
See <a href="../specification/version_management.html">Version Management</a> for details on the format of the manifest.</p>
</div>
<div class="paragraph">
<p>The manifest is generated when a patch is applied on master by the CI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installer">Installer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The installer is generated when a patch is applied on the <code>master</code> branch by the CI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A candidate changelog is generated automatically using the respective tool (under scripts directory).
Currently, the release notes are updated manually in github.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publishing_of_artifacts">Publishing of artifacts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We now summarize the release process.
Our first step is to ensure the proper and valid state of the <code>master</code> branch.
Next, we update <code>cargo</code> and the manifest accordingly.
We then create and push an annotated tag on the <code>stable</code> branch, generate the changelog.
The product and SDK team members can then inspect, clarify, and develop the changelog to ensure it is appropriate for public
consumption.
After ensuring the proper artifacts are available in S3, we can now publish them by updating the manifest.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todos_and_improvements">TODOs and improvements</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>version from the tag</p>
</li>
<li>
<p>release stress tests</p>
</li>
<li>
<p>valid json test for the manifest
and supported versions for download.
The manifest allows us to rollback a release or remove a release from the list of supported releases.
See <a href="../specification/version_management.html">Version Management</a> for details on the format of the manifest.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The manifest is generated when a patch is applied on master by the CI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installer_2">Installer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The installer is generated when a patch is applied on the <code>master</code> branch by the CI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog_2">Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A candidate changelog is generated automatically using the respective tool (under scripts directory).
Currently, the release notes are updated manually in github.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publishing_of_artifacts_2">Publishing of artifacts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We now summarize the release process.
Our first step is to ensure the proper and valid state of the <code>master</code> branch.
Next, we update <code>cargo</code> and the manifest accordingly.
We then create and push an annotated tag on the <code>stable</code> branch, generate the changelog.
The product and SDK team members can then inspect, clarify, and develop the changelog to ensure it is appropriate for public
consumption.
After ensuring the proper artifacts are available in S3, we can now publish them by updating the manifest.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todos_and_improvements_2">TODOs and improvements</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>version from the tag</p>
</li>
<li>
<p>release stress tests</p>
</li>
<li>
<p>valid json test for the manifest</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-07-23 11:38:37 -0700
</div>
</div>
</body>
</html>